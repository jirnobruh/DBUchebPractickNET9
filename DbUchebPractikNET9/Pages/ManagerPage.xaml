<Page x:Class="DbUchebPractikNET9.Pages.ManagerPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#FFF2F2F2">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Верхняя панель -->
        <DockPanel Grid.Row="0" Margin="0 0 0 10">
            <Button Content="Выйти"
                    Width="100"
                    Height="35"
                    DockPanel.Dock="Right"
                    Click="Logout_Click"/>

            <TextBlock Text="Управление заказами"
                       FontSize="28"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
        </DockPanel>
        
        <StackPanel Grid.Row="0" Margin="0 60 0 10" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" >

            <!-- Поиск по клиенту -->
            <TextBox x:Name="SearchClientBox"
                     Width="200"
                     Height="30"
                     Margin="0 0 10 0"
                     Text="Поиск по клиенту"/>

            <!-- Фильтр по статусу -->
            <ComboBox x:Name="StatusFilter"
                      Width="180"
                      Height="30"
                      Margin="0 0 10 0"
                      Text="Статус"/>

            <!-- Дата с -->
            <DatePicker x:Name="DateFrom"
                        Width="150"
                        Height="30"
                        Margin="0 0 10 0"/>

            <!-- Дата по -->
            <DatePicker x:Name="DateTo"
                        Width="150"
                        Height="30"
                        Margin="0 0 10 0"/>

            <!-- Кнопка применить -->
            <Button Content="Применить"
                    Width="120"
                    Height="30"
                    Click="ApplyFilters_Click"/>
        </StackPanel>

        <!-- Таблица заказов -->
        <DataGrid x:Name="OrdersGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single">

            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding OrderID}" Width="60"/>
                <DataGridTextColumn Header="Клиент" Binding="{Binding User.FirstName}" Width="150"/>
                <DataGridTextColumn Header="Дата" Binding="{Binding OrderDate}" Width="150"/>
                <DataGridTextColumn Header="Статус" Binding="{Binding OrderStatus.StatusTitle}" Width="150"/>
                <DataGridTextColumn Header="Доставка" Binding="{Binding DeliveryOption.OptionTitle}" Width="150"/>
            </DataGrid.Columns>

        </DataGrid>

        <!-- Кнопки -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 10 0 0">
            <Button Content="Просмотр деталей"
                    Width="160"
                    Height="35"
                    Margin="0 0 10 0"
                    Click="ViewDetails_Click"/>

            <Button Content="Изменить статус"
                    Width="160"
                    Height="35"
                    Click="ChangeStatus_Click"/>
        </StackPanel>

    </Grid>
</Page>